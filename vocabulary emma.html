<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Flip Cards</title>
    <style>
        /* --- CSS STYLES --- */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 90%;
            max-width: 600px;
            perspective: 1000px; /* For 3D flip effect */
            margin-bottom: 20px;
        }

        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 300px;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            border-radius: 10px;
            position: relative;
        }

        .flip-card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
            text-align: center;
        }

        .card-front {
            background-color: #ffccff; /* Light Pink - based on image */
            color: #333;
            font-size: 2em;
            font-weight: bold;
            border: 5px solid #ff99ff;
        }

        .card-back {
            background-color: #f0e6ff; /* Light Lavender */
            color: #333;
            transform: rotateY(180deg);
            border: 5px solid #d4c2ff;
        }

        .card-back p {
            font-size: 1.1em;
            margin: 5px 0;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        #flip-button {
            background-color: #007bff;
            color: white;
        }

        #prev-button, #next-button {
            background-color: #6c757d;
            color: white;
        }

        .rating-controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .rating-controls button {
            background-color: #f8f9fa;
            color: #333;
            border: 1px solid #ced4da;
        }

        .rating-controls button.active {
            background-color: #28a745; /* Green for success/mastery */
            color: white;
            font-weight: bold;
            border-color: #218838;
        }

        .info {
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: bold;
        }

        .complete-message {
            font-size: 2em;
            color: #28a745;
            text-align: center;
        }

        .rating-display {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 5px 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 5px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

    <h1>Vocabulary Flashcard Review</h1>
    <p>Rate the card 1 (Hard) to 5 (Easy/Mastered).</p>
    
    <div class="container">
        <div class="flip-card" id="current-card">
            <div class="card-face card-front" id="card-front"></div>
            <div class="card-face card-back" id="card-back"></div>
            <div class="rating-display" id="rating-display">Rating: N/A</div>
        </div>
    </div>

    <div id="controls-section">
        <div class="controls">
            <button id="prev-button">Flip Backwards</button>
            <button id="flip-button">Flip Card</button>
            <button id="next-button">Flip Forwards</button>
        </div>

        <div class="rating-controls">
            <button data-rating="1">1</button>
            <button data-rating="2">2</button>
            <button data-rating="3">3</button>
            <button data-rating="4">4</button>
            <button data-rating="5">5 (Mastered)</button>
        </div>

        <div class="info" id="card-info"></div>
    </div>
    
    <div id="complete-section" style="display: none;">
        <p class="complete-message">ðŸŽ‰ Congratulations! You have mastered all the words! ðŸŽ‰</p>
    </div>

    <script>
        // --- JAVASCRIPT LOGIC ---

        const vocabulary = [
            { 
                word: "Swivel", 
                type: "Verb", 
                definition: "To turn on a pivot.", 
                example: "Ms. Edelstein swiveled her chair around to get a better view of the class.",
                antonyms: ["Stable", "Steady", "Fixed"]
            },
            { 
                word: "Barrack", 
                type: "Noun", 
                definition: "A building or group of buildings used to house military personnel.", 
                example: "While in the military, Uncle Paul lived in the barracks with the other soldiers.",
                synonyms: ["Family home", "Fragile", "Soldier's tent", "Lodging"]
            },
            { 
                word: "Mesmerize", 
                type: "Verb", 
                definition: "To hypnotize or spellbind.", 
                example: "Lucy was mesmerized by P's lightning bolt spot on her head.",
                correct_use: "The voice judge was mesmerized by the sound of the singer."
            },
            { 
                word: "Jolt", 
                type: "Verb", 
                definition: "Push or shake (someone or something) abruptly and roughly.", 
                example: "The teacher's voice jolted me back to reality while I was daydreaming.",
                synonyms: ["Jerk", "Drowsy", "Shake"]
            },
            { 
                word: "Inscribe", 
                type: "Verb", 
                definition: "Carve, cut, or etch into a material or surface.", 
                example: "Woodward's name is inscribed on his 'Coach of the Year' plaque.",
                fill_in_blank: "To my beloved July 26, 1999' is **inscribed** on the inside of my wedding ring."
            },
            { 
                word: "Competence", 
                type: "Noun", 
                definition: "The quality of being adequately or well qualified, physically and intellectually.", 
                example: "Lucy's competence in math helped her organize the Pet Hut's documents.",
                antonyms: ["Sympathy", "Generosity", "Dignity", "Capability"]
            },
            { 
                word: "Blare", 
                type: "Verb", 
                definition: "To make a loud noise.", 
                example: "The ambulance sirens were blaring down the road after the terrible accident.",
                noise_examples: ["Ex: Police Sirens", "Tornado Sirens", "School bell", "Fire Siren"]
            },
            { 
                word: "Inquisitive", 
                type: "Adjective", 
                definition: "Appearing or inquiring or appearing to inquire.", 
                example: "He was as inquisitive as a monkey and when he had made up his mind to find out anything, it was useless to try to divert his attention.",
                character_match: "Lucy greeted Uncle Paul. A perplexed look crossed Lucy's face as she observed the math problem from Squarehead384. Lucy stomped her feet and marched down the hall to confront Maddie.",
                is_inquisitive_char: "Miscalculations of Lightning Girl? Why do you feel this way?"
            },
            { 
                word: "Sprawl", 
                type: "Verb/Noun", 
                definition: "To spread out.", 
                example: "My dog likes to sprawl out on the cool tile during hot summer days.",
                synonyms: ["Spread", "Repose"]
            },
            { 
                word: "Dread", 
                type: "Noun", 
                definition: "Fearful expectation or anticipation.", 
                example: "When I opened the door to see the police officer, my heart sank and I was filled with dread.",
                correct_use: "I was filled with **dread** by the horror movie.",
                correct_use_2: "After I forgot my homework, I was filled with **dread** about math class."
            }
        ];

        // Initialize state variables
        let cards = vocabulary.map(card => ({
            ...card,
            rating: 0 // Initialize rating for each card
        }));

        let filteredCards = [...cards]; // Cards currently in the deck (rating < 5)
        let currentCardIndex = 0;

        // DOM elements
        const cardElement = document.getElementById('current-card');
        const frontElement = document.getElementById('card-front');
        const backElement = document.getElementById('card-back');
        const infoElement = document.getElementById('card-info');
        const ratingDisplay = document.getElementById('rating-display');
        const ratingButtons = document.querySelectorAll('.rating-controls button');
        const controlsSection = document.getElementById('controls-section');
        const completeSection = document.getElementById('complete-section');

        // --- CORE FUNCTIONS ---

        function renderCard() {
            if (filteredCards.length === 0) {
                // All cards are mastered (rating = 5)
                controlsSection.style.display = 'none';
                cardElement.style.display = 'none';
                completeSection.style.display = 'block';
                return;
            }

            // Ensure index wraps around if needed
            if (currentCardIndex < 0) {
                currentCardIndex = filteredCards.length - 1;
            } else if (currentCardIndex >= filteredCards.length) {
                currentCardIndex = 0;
            }

            const currentCard = filteredCards[currentCardIndex];

            // Update card faces
            frontElement.innerHTML = `<h2>${currentCard.word}</h2>`;
            
            // Build the back of the card with details
            let backHTML = `<h3>${currentCard.word} (${currentCard.type})</h3>`;
            backHTML += `<p><strong>Definition:</strong> ${currentCard.definition}</p>`;
            backHTML += `<p><strong>Example:</strong> <em>${currentCard.example}</em></p>`;
            
            // Add other relevant information if available
            if (currentCard.antonyms) {
                backHTML += `<p><strong>Antonyms/Words:</strong> ${currentCard.antonyms.join(', ')}</p>`;
            } else if (currentCard.synonyms) {
                 backHTML += `<p><strong>Synonyms/Words:</strong> ${currentCard.synonyms.join(', ')}</p>`;
            } else if (currentCard.correct_use || currentCard.fill_in_blank) {
                backHTML += `<p><strong>Usage Example:</strong> ${currentCard.correct_use || currentCard.fill_in_blank}</p>`;
            } else if (currentCard.noise_examples) {
                backHTML += `<p><strong>Examples:</strong> ${currentCard.noise_examples.join(', ')}</p>`;
            }

            backElement.innerHTML = backHTML;

            // Update info bar and rating display
            infoElement.textContent = `Card ${currentCardIndex + 1} of ${filteredCards.length} (${cards.length} Total)`;
            ratingDisplay.textContent = `Rating: ${currentCard.rating}/5`;

            // Update rating buttons visual state
            ratingButtons.forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.rating) === currentCard.rating) {
                    btn.classList.add('active');
                }
            });

            // Ensure card is unflipped when a new card is loaded
            cardElement.classList.remove('flipped');
            
            // Show the card element if it was hidden
            cardElement.style.display = 'block'; 
        }

        function filterCards() {
            // Filter cards to only include those with a rating less than 5
            filteredCards = cards.filter(card => card.rating < 5);
            
            // Reset index if the current one is now out of bounds
            if (currentCardIndex >= filteredCards.length && filteredCards.length > 0) {
                currentCardIndex = 0;
            } else if (filteredCards.length === 0) {
                currentCardIndex = 0; // Index doesn't matter, but set to 0
            }
        }

        function setRating(rating) {
            if (filteredCards.length === 0) return;
            
            const currentWord = filteredCards[currentCardIndex].word;
            
            // Find the card in the *original* array to update its rating permanently
            const originalCard = cards.find(card => card.word === currentWord);
            if (originalCard) {
                originalCard.rating = rating;
            }
            
            // Re-filter the deck, then move to the next card
            filterCards();
            
            if (filteredCards.length > 0) {
                // Move to the next card in the new, filtered list
                // If we're at the end, wrap to the beginning
                if (currentCardIndex >= filteredCards.length) {
                     currentCardIndex = 0;
                }
                renderCard();
            } else {
                // Deck is empty, show completion message
                renderCard();
            }
        }

        // --- EVENT LISTENERS ---

        // Flip Card Button
        document.getElementById('flip-button').addEventListener('click', () => {
            cardElement.classList.toggle('flipped');
        });

        // Next Card Button (Flip Forwards)
        document.getElementById('next-button').addEventListener('click', () => {
            currentCardIndex++;
            renderCard();
        });

        // Previous Card Button (Flip Backwards)
        document.getElementById('prev-button').addEventListener('click', () => {
            currentCardIndex--;
            renderCard();
        });
        
        // Rating Buttons
        ratingButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const rating = parseInt(e.target.dataset.rating);
                setRating(rating);
            });
        });

        // Initial setup
        filterCards();
        renderCard();

    </script>
</body>
</html>
